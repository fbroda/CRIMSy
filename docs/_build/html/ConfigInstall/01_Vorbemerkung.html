

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Konfiguration und Installation &mdash; CRIMSy 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Konfigurationsskript" href="02_Konfiguration.html" />
    <link rel="prev" title="Phase 2" href="../Administration/03_Phase2.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CRIMSy
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Administration/01_Setup.html">Administrator-Handbuch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Administration/02_Phase1.html">Phase 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Administration/03_Phase2.html">Phase 2</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Konfiguration und Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ablauf">Ablauf</a></li>
<li class="toctree-l2"><a class="reference internal" href="#systemanforderungen">Systemanforderungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#speicher">Speicher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#betriebssystem">Betriebssystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#software">Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#benutzer">Benutzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zertifikate">Zertifikate</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="02_Konfiguration.html">Konfigurationsskript</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_ExternerProxy.html">Externer Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_Management.html">Management des Knotens</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/01_Intro.html">Vorwort</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/01_Intro.html#einfuhrung">Einführung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/02_Aufgaben.html">Aufgabenstellung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/03_Randbedingungen.html">Randbedingungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/04_Fachkontext.html">Fachlicher Kontext</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/05_TechnischerKontext.html">Technischer Kontext</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/06_1_Bausteinsicht.html">Bausteinsicht</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/06_2_Bausteinsicht.html">Entwickler-PC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/06_3_Bausteinsicht.html">Webanwendung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/07_Laufzeitsicht.html">Laufzeitsicht</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/08_Verteilungssicht.html">Verteilungssicht</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/09_Querschnitt.html">Querschnittliche Konzepte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/10_Risikoanalyse.html">Risiken und Datenschutz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/11_TechnSchulden.html">Technische Schulden</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/12_Glossar.html">Glossar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../System/13_Lizenz.html">Lizenzierung</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CRIMSy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Konfiguration und Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/ConfigInstall/01_Vorbemerkung.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="konfiguration-und-installation">
<h1>Konfiguration und Installation<a class="headerlink" href="#konfiguration-und-installation" title="Permalink to this headline">¶</a></h1>
<p>Die nachfolgenden Abschnitte befassen sich mit der Konfiguration, der Installation und dem Management eines Knotens aus Sicht eines lokalen Administrators. Das Handbuch behandelt folgende Teilaspekte:</p>
<ol class="simple">
<li><p>Vorbetrachtungen / Installationsvoraussetzungen</p></li>
<li><p>Konfigurationsskript</p></li>
<li><p>Konfiguration eines externen Proxy (optional)</p></li>
<li><p>Installation</p></li>
<li><p>Management des Knotens</p></li>
</ol>
<p>Vor der Installation bzw. während des Installationsvorgangs müssen einige Parameter (z.B. Speicherorte, Hostnamen, private Schlüssel oder Zertifikatspasswörter) konfiguriert werden. Einige dieser Einstellungen sind sensitiv. Der gesamte Konfigurations- und Installationsprozess ist so gestaltet, dass sensitive Informationen Ihre Einrichtung nie verlassen.</p>
<blockquote>
<div><p><strong>Wichtig:</strong> <em>Wir haben bei der Entwicklung von CRIMSy Wert auf Sicherheit und Datenschutz gelegt. Die Software darf jedoch keinesfalls zur Speicherung und Verarbeitung sensitiver personenbezogener Daten (z.B. Patientendaten) verwendet werden! Näheres entnehmen Sie bitte dem Handbuch Systembeschreibung (Kapitel Risikoanalyse).</em></p>
</div></blockquote>
<div class="section" id="ablauf">
<h2>Ablauf<a class="headerlink" href="#ablauf" title="Permalink to this headline">¶</a></h2>
<p>Zunächst prüfen Sie die im folgenden Abschnitt beschriebenen Systemanforderungen und stellen ein entsprechend konfiguriertes System zusammen. Anschließend laden Sie das Konfigurationsskript und unsere Schlüssel herunter. Nachdem Sie die digitale Signatur des Konfigurationssskripts verifiziert haben, führen Sie dieses aus und senden uns die vom Skript erstellte Konfigurationsdatei zu. Anhand dieser Konfigurationsdatei wird von uns ein Installationspaket betriebsfertig konfektioniert, an Sie verteilt und schließlich von Ihnen in Betrieb genommen.</p>
<blockquote>
<div><p><strong>Hinweis:</strong> <em>Für die Konfiguration und die Installation benutzen Sie bitte einen einzigen dedizierten unprivilegierten Account.</em></p>
</div></blockquote>
<p><img alt="PuTTY Terminal Konfiguration" src="../_images/putty_terminal.png" />
Falls Sie die Konfiguration über PuTTY ausführen wollen, stellen Sie bitte den Zeichensatz auf UTF-8 um.</p>
</div>
<div class="section" id="systemanforderungen">
<h2>Systemanforderungen<a class="headerlink" href="#systemanforderungen" title="Permalink to this headline">¶</a></h2>
<p>In der Einstiegsphase sind zum Betrieb eines Cloud-Knotens 1 - 2 CPU-Kerne, 2 GByte RAM und ca. 20 GByte Plattenspeicher sowie eine Netzwerkanbindung ab ca. 10 Mbit/s ausreichend. Die Entwicklung erfolgt auf virtualisierter x86_64-Hardware (KVM). Der Cloud-Knoten kann also als virtuelle Maschine betrieben werden – ein dedizierter physischer Server ist nicht notwendig. Sofern eine Java Runtime zur Verfügung steht, sollte der Betrieb auch auf jeder anderen Architektur (z.B. ARM) möglich sein. Eine Gewähr wird hierfür jedoch nicht übernommen.</p>
</div>
<div class="section" id="speicher">
<h2>Speicher<a class="headerlink" href="#speicher" title="Permalink to this headline">¶</a></h2>
<p>Ein Teil des Plattenspeichers wird für die permanente Speicherung der lokalen Cloud-Daten verwendet. In der Standardeinstellung wird hierfür das Verzeichnis Home-Verzeichnis des Nutzers verwendet, der das Konfigurationsskript aufruft. Diese Einstellung ist jedoch konfigurierbar. Diese Daten sollten durch ein regelmäßiges Backup vor Datenverlust geschützt werden. Wichtig: für das Datenverzeichnis soll kein Netzwerkdateisystem (z.B. NFS) verwendet werden.</p>
<blockquote>
<div><p><strong>Info:</strong> <em>Es gibt Szenarien, in denen der Einsatz von NFS unvermeidbar ist, z.B. wenn ein ESX-Cluster seine Volumes per NFS von einem NetApp Filer bezieht. Innerhalb des Knotens bzw. aus Knotensicht handelt es sich hier jedoch nicht um den Einsatz von NFS, da dies dem Knoten vollständig verborgen ist.</em></p>
</div></blockquote>
</div>
<div class="section" id="betriebssystem">
<h2>Betriebssystem<a class="headerlink" href="#betriebssystem" title="Permalink to this headline">¶</a></h2>
<p>Die Entwicklung erfolgt unter OpenSUSE (aktuell OpenSUSE 15.1 LEAP). Ein Knoten der Cloud setzt sich dabei aus mehreren Docker Containern zusammen. Die Verwendung anderer Linux-Distributionen ist möglich, getestet wurde unter anderem Ubuntu. Ein direkter Betrieb unter Windows wird nicht empfohlen, da während Installation und Betrieb zahlreiche Linux/Unix-Werkzeuge zum Einsatz kommen, die bei einem Betrieb unter Windows zahlreiche Anpassungen erforderlich machen würden.</p>
</div>
<div class="section" id="software">
<h2>Software<a class="headerlink" href="#software" title="Permalink to this headline">¶</a></h2>
<p>Zusätzlich zu einem minimalen Linux-System erfordern Installation und Betrieb eines Cloud-Knotens folgende Software:</p>
<ul class="simple">
<li><p>Docker und Docker Compose (ab Docker Version 1.12)</p></li>
<li><p>Dialog (NCurses-Dialoge für Shell-Skripte)</p></li>
<li><p>GnuZip</p></li>
<li><p>m4 Makroprozessor</p></li>
<li><p>ed (Unix Line Editor)</p></li>
<li><p>OpenSSL</p></li>
<li><p>ssh (nur falls Remote-Administration gewünscht wird)</p></li>
<li><p>sudo</p></li>
<li><p>tar</p></li>
<li><p>sharutils (uuencode / uudecode)</p></li>
<li><p>uuidgen</p></li>
<li><p>wget (evtl. zukünftig curl)</p></li>
</ul>
</div>
<div class="section" id="benutzer">
<h2>Benutzer<a class="headerlink" href="#benutzer" title="Permalink to this headline">¶</a></h2>
<p>Für die Cloud sollte auf dem Knoten ein unprivilegierter Benutzer (z.B. lbac) eingerichtet werden. Dieser Benutzer benötigt Zugriff auf die verwendeten Schlüssel und Zertifikate (s.u.). Für bestimmte Zwecke (z.B. Einrichten von Cron-Jobs, Starten von Docker-Containern) benötigt dieser Nutzer auch Zugriff auf eine administrative Shell (sudo). Während der Installation konfiguriert sich das Setup-Skript einen entsprechenden Zugang für den unprivilegierten Benutzer, wofür einmalig das Root-Passwort benötigt wird.</p>
<blockquote>
<div><p><strong>Info:</strong> <em>Zur Erhöhung der Sicherheit kann die sudo-Berechtigung nach Beendigung des Installationsskripts wieder entzogen werden. Dazu muss die Datei <code class="docutils literal notranslate"><span class="pre">/etc/sudoers.d/lbac</span></code> gelöscht werden.</em></p>
</div></blockquote>
<p>Falls der Speicherort nicht anderweitig konfiguriert wurde, sollte das Homeverzeichnis des Nutzers ausreichend freien Platz für die Daten des Knotens haben (aktuell 10 GByte).</p>
</div>
<div class="section" id="zertifikate">
<h2>Zertifikate<a class="headerlink" href="#zertifikate" title="Permalink to this headline">¶</a></h2>
<p>Für die Absicherung der Maschine-zu-Maschine-Kommunikation der Knoten untereinander und für die Softwareverteilung werden Zertifikate eingesetzt. Für jede Cloud gibt es eine eigene Zertifizierungsstelle (CA - Certificate Authority), die diese Zertifikate ausstellt. Die Authentizität einer Zertifizierungsstelle kann anhand der sha256-Hashwerte der Zertifikatskette überprüft werden. Wichtig: Die Authentizität der Cloud-Installation hängt von einer sorgfältigen Prüfung dieser Hash-Werte ab. Folgende Zertifizierungsstellen sind momentan bekannt:</p>
<hr class="docutils" />
<p>Hash-Wert der Zertifikatskette        Cloud</p>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">acb7b11ec12d21a83da6a47cc8b0ee89..</span></code>  Leibniz Bioactives Cloud
<code class="docutils literal notranslate"><span class="pre">..0a73e33f3a9dc23b7cafcc21f2343098</span></code>  (nur Zertifikat: <code class="docutils literal notranslate"><span class="pre">cacert.pem</span></code>)</p>
<p><code class="docutils literal notranslate"><span class="pre">725ed0ea27e7f91bc9248ae19deb6aac..</span></code>  Leibniz Bioactives Cloud
<code class="docutils literal notranslate"><span class="pre">..47f3a5597ee2d2dd96e9f8f131c0365f</span></code>  (Zertifikatskette: <code class="docutils literal notranslate"><span class="pre">chain.txt</span></code>)</p>
<hr class="docutils" />
<blockquote>
<div><p><strong>Info:</strong> <em>Die Leibniz Bioactives Cloud stellt insofern eine Besonderheit dar, als dass zunächst nur das Zertifikat verbreitet wurde. Ab Version CRIMSy 1.3.x gibt es auch für die Leibniz Bioactives Cloud eine ‘Zertifikatskette’, die allerdings auch nur das selbe CA-Zertifikat enthält.</em></p>
</div></blockquote>
<p>Die Zertifikatsketten sowie zugehörige Zertifikatssperrlisten usw. können von den jeweiligen Distributionsseiten heruntergeladen werden. Die URL und etwaige Credentials können beim Verwalter der Cloud erfragt werden. Die vom Verwalter übermittelten Informatioenn sollten auch den Hashwert der Zertifikatskette beinhalten, um durch Übermittlung auf einem unabhängigen Kanal die Sicherheit zu erhöhen.</p>
<blockquote>
<div><p><strong>Info:</strong> <em>Die Webadressen, Prüfsummen usw. dieses Handbuchs beziehen sich auf die von den CRIMSy-Entwicklern verwalteten Clouds (z.B. die Leibniz Bioactives Cloud). Falls Sie eine separate Distribution betreiben (vielleicht für Maschinenbauer oder Germanisten), werden die Webadressen, Prüfsummen usw. abweichen. Der Verantwortliche einer separaten Distribution sollte aber die unabhängige Prüfung der Authentizität der Zertifikate, Konfigurations- und Installationsskripte ermöglichen (z.B. über eine zusätzliche Email-Information).</em></p>
</div></blockquote>
<p>Das Zertifikat für Ihren Knoten wird bei der Zusammenstellung des Installationspakets durch uns erzeugt und basiert auf dem während der Konfiguration erstellten Zertifikatsrequest. Für die Interaktion mit dem Nutzer sollte ein offizielles (d.h. ein von einer allgemein akzeptierten CA herausgegebenes) Zertifikat verwendet werden, um Fehlermeldungen im Browser des Nutzers zu vermeiden. Als Fallback-Lösung kann jedoch auch das Zertifikat Ihrer Cloud-CA benutzt werden.</p>
<p>Die privaten Schlüssel Ihrer Zertifikate (sowie die zugehörigen Passwörter) verlassen Ihren Knoten niemals.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="02_Konfiguration.html" class="btn btn-neutral float-right" title="Konfigurationsskript" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Administration/03_Phase2.html" class="btn btn-neutral float-left" title="Phase 2" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Frank Broda, Fabian Mauz

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>